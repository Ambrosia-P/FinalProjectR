---
title: "Loading and description of the files"
author: "Lou-Ann and Ambrosia"
format: html
editor: visual
repo-url: https://github.com/Ambrosia-P/FinalProjectR
execute:
  echo: false
---

# Raw Data

Raw data files are stored in the [`/data`](https://github.com/Ambrosia-P/FinalProjectR/tree/master/data) folder:

**Energy Prices**: `EnergyPricesNewVersion.xlsx` - Electricity and gas prices for European countries

**Gas Prices**: `TTF_Prices.xlsx` - TTF (Title Transfer Facility) natural gas prices

**Pipeline Importations** : `Imports_pipeline.csv` - Importations from Russia by pipeline

**Liquified Natural gas importations** : `LNG_2019.csv` - Annual importations of natural gas from Russia by boat (also provided for 2020, 2021, 2022, 2023 and 2024). All years from 2019 to 2024 are combined the the data frame `LNG_imports`

**Electricity production by sources** : `Combustible_fuels.csv` - Electricity produced by combustible fuels (also provided for Fossil fuels, Hydro, Natural gas, Nuclear, Renewable sources, Solar, Wind and Total)

# Cleaned Data

Processed data files are in the [`/cleaned_data`](https://github.com/Ambrosia-P/FinalProjectR/tree/master/cleaned_data) folder:

**Electricity Prices**: `Energypricescleaned.xlsx` - cleaned household electricity prices for nine European countries (France, Germany, Spain, Italy, Netherlands, Poland, Bulgaria, Sweden, and Finland) from 2019 to 2024, bi-annual data, prices excluding taxes and levies

**Gas Prices**: `Gaspricescleaned.xlsx` - cleaned Dutch TTF natural gas prices with monthly closing prices in euros per megawatt-hour for the same time period

**Importations from Russia** : `Total_imports.csv` - cleaned importations of natural gas from Russia, from both pipeline and boat, from 2019 to 2024 for the nine selected European countries, in million of cubic meters, monthly data.

**Electricity Production by sources** : `all_sources` - cleaned decomposition of electricity production by source from 2019 to 2024 for the nine selected countries, with the total of electricity produced in the country, monthly data. We can derive a data frame for each country by using : sources_list and sources_list\$Country

## Description of the data collection and sources

This data selection examines electricity and natural gas prices during the 2022 European Energy Crisis using data from two authoritative sources covering nine European countries (France, Germany, Spain, Italy, Netherlands, Poland, Bulgaria, Sweden, and Finland) from 2019 to 2024.

**Electricity Prices for Household Consumers** (Code: nrg_pc_204): This dataset is sourced from Eurostat and accessible via the [Eurostat Data Browser](https://ec.europa.eu/eurostat/databrowser/bookmark/3fc4f5aa-4d49-4ab4-9b16-392cc50555ed?lang=en&createdAt=2025-11-10T18:38:30Z). The dataframe measures electricity prices in euros for all 27 countries of the European Union from 2007 to 2025, with data collected bi-annually. For our purposes, we selected data for our nine chosen countries covering the period from 2019 to 2024, using prices that exclude taxes and levies.

**Dutch TTF Natural Gas Prices**: This dataset is sourced from [Investing.com](https://www.investing.com/commodities/dutch-ttf-gas-c1-futures-historical-data) and provides monthly closing prices in euros per megawatt-hour. The Dutch TTF (Title Transfer Facility) gas market serves as the main benchmark for natural gas trading in Europe, setting the wholesale prices used in most European contracts. This makes it an essential indicator for understanding gas price movements across the continent during the crisis period.

**Pipeline Importations** (Code: nrg_ti_gasm) : This data set is sourced from Eurostat and accesible via the [Eurostat Data Browser](https://ec.europa.eu/eurostat/databrowser/view/nrg_ti_gasm/default/table?lang=fr). The initial data set measures the amount of natural gas in million of cubic meter that is imported by all 27 countries from global partners, from 2008 to 2025, with data collected monthly . We selected Russia as a partner and our nine countries as geopolitical entities to keep only the dependency on Russian importations over our time period (2019-2024)

**Liquified Natural Gas Importations** : When looking at the pipeline importations, we realized that the Eurostat data frame indicated that some countries didn't import any Russian gas during our time period. If it can be coherent for countries such as Denmark (which mainly on renewable sources), it is absolutely not true for countries such as Germany that are highly dependent on Russian importations. The fact remains that these countries do not imports Russian gas by pipeline, but by boat in a liquefied form. Therefore, to have a more precise analysis, we have decided to add the LNG (Liquefied Natural Gas) importations. This data set is sourced from the WITS, World Integrated Trade Solution (a database developed by the World Bank in collaboration with others organizations) and accessible via [WITS.com](https://wits.worldbank.org/trade/comtrade/en/country/All/year/2023/tradeflow/Imports/partner/RUS/product/271111?utm_source=chatgpt.com). This data set measures the amount of LNG in kilograms imported by countries all around the world from different partners, from 1992 to 2024, with data collected annually. We decided to select our nine countries (if they do import LNG) as reporters and the Russian Federation as partner.

**Electricity production by source** (Code: nrg_cb_pem): This data frame is sourced from Eurostat and accessible via the [Eurostat Data Browser](https://ec.europa.eu/eurostat/databrowser/bookmark/3fa70279-4410-4fb9-a55b-5a4038eea201?lang=en&createdAt=2025-11-10T19:11:35Z). The original data set provides the net generation of electricity by source / type of fuels in gigawatts per hour, from 2008 to 2025, for all 27 european countries, with data collected monthly. For our nine countries, we decided to select only the most relevant and known sources out of the 23 types of fuels provided and decided to keep the total of energy generated in order to compute the energy mix later.

## Data summary

### Electricity prices

```{r}
library(readxl)
library(knitr)

electricity_data <- read_excel("cleaned_data/Energypricescleaned.xlsx")

electricity_info <- data.frame(
  Attribute = c("Dataset", "Number of Rows", "Number of Columns", "Column Names"),
  Value = c(
    "Energypricescleaned.xlsx",
    nrow(electricity_data),
    ncol(electricity_data),
    paste(colnames(electricity_data), collapse = ", ")
  )
)

kable(electricity_info, 
      caption = "Basic Information: Cleaned Electricity Prices Dataset",
      col.names = c("Attribute", "Value"))
```

### Gas prices

```{r}
library(readxl)
library(knitr)

gas_data <- read_excel("cleaned_data/Gaspricescleaned.xlsx")

gas_info <- data.frame( Attribute = c("Dataset", "Number of Rows", "Number of Columns", "Column Names"),Value = c("Gaspricescleaned.xlsx",
    nrow(gas_data),
    ncol(gas_data),
    paste(colnames(gas_data), collapse = ", ")))

kable(gas_info, 
      caption = "Basic Information: Cleaned Gas Prices Dataset",
      col.names = c("Attribute", "Value"))
```

## Gas Importations

```{r}

Importations <- read.csv("cleaned_data/Total_import.csv")

Importations <- data.frame(col1= c("Nom", "Number of rows", "Number of columns", "Unit"), col2= c("Gas Importations",nrow(Total_imports), ncol(Total_imports), "Million of cubic meters"))
names(Importations) <- c("","")

kable(Importations)
```

## Electricity generation by source

### For all sources

```{r}

Elec_prod <- read.csv("cleaned_data/all_sources.csv")

Elec_prod <- data.frame(col1= c("Nom", "Number of rows", "Number of columns", "Unit"), col2= c("Electricity generation by source",nrow(all_sources), ncol(all_sources), "Gigawatts per hour"))
names(Elec_prod) <- c("","")

kable(Elec_prod)
```

### For one country

```{r}


France_elec_prod <- sources_list$France

France_elec_prod <- data.frame(col1= c("Nom", "Number of rows", "Number of columns", "Unit"), col2= c("Electricity generation by source for France",nrow(France_elec_prod), ncol(France_elec_prod), "Million of cubic meters"))
names(France_elec_prod) <- c("","")

kable(France_elec_prod)
```
